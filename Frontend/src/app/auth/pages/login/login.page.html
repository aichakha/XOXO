<ion-content class="ion-padding">
  <!-- Back Button -->
  <button class="back-button" (click)="goBack()">
    <img src="assets/icon/back-arrow1.png" class="back-icon" />
  </button>

  <div class="login-container">
    <h2 class="text-xl font-bold text-center mt-6">WELCOME BACK</h2>

    <form (ngSubmit)="login()" #loginForm="ngForm">
      <!-- Email Input -->
      <ion-item>
        <ion-label position="floating">Email</ion-label>
        <ion-input
          type="email"
          [(ngModel)]="email"
          name="email"
          required
          #emailField="ngModel"
        ></ion-input>
      </ion-item>
      <div *ngIf="emailField.invalid && emailField.touched" class="error-text">
        Email is required.
      </div>

      <!-- Password Input -->
      <ion-item>
        <ion-label position="floating">Password</ion-label>
        <ion-input
          type="password"
          [(ngModel)]="password"
          name="password"
          required
          #passwordField="ngModel"
        ></ion-input>
      </ion-item>
      <div *ngIf="passwordField.invalid && passwordField.touched" class="error-text">
        Password is required.
      </div>

      <!-- Remember Me Checkbox -->
      <ion-item lines="none">
        <ion-label>Remember Me</ion-label>
        <ion-checkbox
          [(ngModel)]="rememberMe"
          name="rememberMe"
        ></ion-checkbox>
      </ion-item>

      <!-- Error Message -->
      <p *ngIf="errorMessage" class="error-text">
        {{ errorMessage }}
      </p>

      <!-- Login Button -->
      <ion-button
        expand="full"
        type="submit"
        [disabled]="isLoading || loginForm.invalid">
        <div *ngIf="isLoading">
          <ion-spinner></ion-spinner>
        </div>
        <span *ngIf="!isLoading">Login</span>
      </ion-button>

      <!-- Forgot Password Link -->
      <p class="forgot-password">
        <a (click)="forgotPassword()">Having issues with your password?</a>
      </p>

      <!-- Back to Sign Up Link -->
      <p class="back-to-signup">
        Don't have an account? <a (click)="backsignup()">Sign Up</a>
      </p>
    </form>
  </div>
</ion-content>
